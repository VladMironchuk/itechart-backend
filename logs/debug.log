2021-12-11 17:05:31 info: Server is running on http://localhost:3000
2021-12-11 17:09:05 info: Server is running on http://localhost:3000
2021-12-11 17:13:01 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:13:01 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-11 17:13:01 debug: orderlists.find
 query: {"_id":{"$in":["61b04ff1f2dee309efbc3f08"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:13:42 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:13:42 debug: products.find
 query: {}
 doc: {"projection":{"ratings":1}}
 options: undefined
2021-12-11 17:14:57 info: Server is running on http://localhost:3000
2021-12-11 17:15:48 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:15:48 debug: products.find
 query: {}
 doc: {"projection":{"ratings":1}}
 options: undefined
2021-12-11 17:16:43 info: Server is running on http://localhost:3000
2021-12-11 17:16:46 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:16:46 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-11 17:18:14 info: Server is running on http://localhost:3000
2021-12-11 17:18:29 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:18:29 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1,"ratings.userId":1}}
 options: undefined
2021-12-11 17:20:55 info: Server is running on http://localhost:3000
2021-12-11 17:20:59 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:20:59 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1,"ratings.userId":1}}
 options: undefined
2021-12-11 17:24:30 info: Server is running on http://localhost:3000
2021-12-11 17:24:40 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:24:40 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1,"ratings.userId":1}}
 options: undefined
2021-12-11 17:25:45 info: Server is running on http://localhost:3000
2021-12-11 17:25:48 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:25:48 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1,"ratings.userId":1}}
 options: undefined
2021-12-11 17:26:20 info: Server is running on http://localhost:3000
2021-12-11 17:27:28 info: Server is running on http://localhost:3000
2021-12-11 17:27:34 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:27:34 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1,"ratings.userId":1}}
 options: undefined
2021-12-11 17:33:19 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:33:19 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-11 17:33:20 debug: orderlists.find
 query: {"_id":{"$in":["61b04ff1f2dee309efbc3f08"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:33:38 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:33:39 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-11 17:33:39 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-11 17:33:39 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-11 17:33:39 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-11 17:33:39 debug: products.findOne
 query: {"displayName":"carrot"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:33:39 debug: products.updateOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-11T14:33:39.260Z"},"$set":{"updatedAt":"2021-12-11T14:33:39.260Z","ratings":[{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-08T06:36:11.950Z"},{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"great","createdAt":"2021-12-11T14:33:39.183Z"}],"totalRating":8.5}}
 options: {}
2021-12-11 17:37:33 info: Server is running on http://localhost:3000
2021-12-11 17:37:57 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:37:57 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-11 17:58:30 info: Server is running on http://localhost:3000
2021-12-11 17:58:34 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-11 17:58:34 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 15:12:43 info: Server is running on http://localhost:3000
2021-12-12 15:16:09 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:16:09 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-12 15:16:10 debug: orderlists.find
 query: {"_id":{"$in":["61b04ff1f2dee309efbc3f08"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:16:46 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:16:46 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 15:18:26 info: Server is running on http://localhost:3000
2021-12-12 15:18:38 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:18:38 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 15:18:54 error: Error: тип Unable to compile TypeScript:
src/routes/last-ratings.ts(16,40): error TS2552: Cannot find name 'rating'. Did you mean 'ratings'?
src/routes/last-ratings.ts(16,37): error TS1109: Expression expected.

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\routes\last-ratings.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-39605770071869695.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-39605770071869695.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-39605770071869695.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-12 15:19:05 info: Server is running on http://localhost:3000
2021-12-12 15:19:09 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:19:09 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 15:19:59 info: Server is running on http://localhost:3000
2021-12-12 15:20:02 info: Server is running on http://localhost:3000
2021-12-12 15:22:20 info: Server is running on http://localhost:3000
2021-12-12 15:22:28 info: Server is running on http://localhost:3000
2021-12-12 15:22:39 info: Server is running on http://localhost:3000
2021-12-12 15:22:51 info: Server is running on http://localhost:3000
2021-12-12 15:23:43 info: Server is running on http://localhost:3000
2021-12-12 15:23:58 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:23:58 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 15:24:33 info: Server is running on http://localhost:3000
2021-12-12 15:24:35 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:24:35 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 15:24:51 info: Server is running on http://localhost:3000
2021-12-12 15:24:52 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:24:52 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 15:25:17 info: Server is running on http://localhost:3000
2021-12-12 15:25:19 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:25:19 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 15:25:28 info: Server is running on http://localhost:3000
2021-12-12 15:25:30 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:25:30 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 15:25:43 info: Server is running on http://localhost:3000
2021-12-12 15:25:45 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:25:45 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 15:26:30 info: Server is running on http://localhost:3000
2021-12-12 15:26:53 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:26:53 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 15:27:14 info: Server is running on http://localhost:3000
2021-12-12 15:27:17 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:27:17 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 15:27:37 info: Server is running on http://localhost:3000
2021-12-12 15:27:49 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:27:49 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 15:28:02 info: Server is running on http://localhost:3000
2021-12-12 15:28:03 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 15:28:03 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 16:33:09 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 16:33:10 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-12 16:33:10 debug: orderlists.find
 query: {"_id":{"$in":["61b04ff1f2dee309efbc3f08"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-12 16:35:03 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 16:35:03 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 16:35:15 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 16:35:15 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 16:35:34 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 16:35:34 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 16:35:53 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 16:35:53 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 19:00:06 error: Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1315:16)
    at listenInCluster (node:net:1363:12)
    at Server.listen (node:net:1450:7)
    at new WebSocketServer (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ws\lib\websocket-server.js:94:20)
    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\web-socket.ts:3:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-34905646486095976.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-34905646486095976.js:114:20)
2021-12-12 19:01:13 error: Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1315:16)
    at listenInCluster (node:net:1363:12)
    at Server.listen (node:net:1450:7)
    at new WebSocketServer (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ws\lib\websocket-server.js:94:20)
    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\web-socket.ts:3:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-668718862824353.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-668718862824353.js:114:20)
2021-12-12 19:05:47 error: Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1315:16)
    at listenInCluster (node:net:1363:12)
    at Server.listen (node:net:1450:7)
    at new WebSocketServer (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ws\lib\websocket-server.js:94:20)
    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\web-socket.ts:3:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-8165768270167084.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-8165768270167084.js:114:20)
2021-12-12 19:07:37 error: Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1315:16)
    at listenInCluster (node:net:1363:12)
    at Server.listen (node:net:1450:7)
    at new WebSocketServer (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ws\lib\websocket-server.js:94:20)
    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\web-socket.ts:3:25)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-25244122631202726.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-25244122631202726.js:114:20)
2021-12-12 19:08:27 info: Server is running on http://localhost:3000
2021-12-12 19:09:12 info: Server is running on http://localhost:3000
2021-12-12 19:12:27 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 19:12:28 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-12 19:12:28 debug: orderlists.find
 query: {"_id":{"$in":["61b04ff1f2dee309efbc3f08"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-12 19:12:41 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 19:12:41 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 19:15:19 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 19:15:19 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-12 19:16:15 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-12 19:16:16 debug: products.find
 query: {}
 doc: {"projection":{"displayName":1,"ratings":1}}
 options: undefined
2021-12-13 00:05:25 info: Server is running on http://localhost:3000
2021-12-13 00:12:36 info: Server is running on http://localhost:3000
2021-12-13 00:19:16 info: Server is running on http://localhost:3000
2021-12-13 00:34:45 info: Server is running on http://localhost:3000
2021-12-13 00:39:36 info: Server is running on http://localhost:3000
2021-12-13 00:39:47 info: Server is running on http://localhost:3000
2021-12-13 00:42:06 info: Server is running on http://localhost:3000
2021-12-13 00:52:25 info: Server is running on http://localhost:3000
2021-12-13 00:55:37 info: Server is running on http://localhost:3000
2021-12-13 00:56:19 info: Server is running on http://localhost:3000
2021-12-13 01:31:44 info: Server is running on http://localhost:3000
2021-12-13 01:32:27 info: Server is running on http://localhost:3000
2021-12-13 01:33:45 info: Server is running on http://localhost:3000
2021-12-13 01:34:44 info: Server is running on http://localhost:3000
2021-12-13 01:36:36 info: Server is running on http://localhost:3000
2021-12-13 01:37:58 info: Server is running on http://localhost:3000
2021-12-13 01:44:19 info: Server is running on http://localhost:3000
2021-12-13 01:46:11 info: Server is running on http://localhost:3000
2021-12-13 01:50:15 info: Server is running on http://localhost:3000
2021-12-13 01:53:00 error: Error: тип Unable to compile TypeScript:
[96msrc/routes/last-ratings.ts[0m:[93m17[0m:[93m9[0m - [91merror[0m[90m TS2322: [0mType 'void' is not assignable to type '[]'.

[7m17[0m         mappedRatings = mapRatingsPg(lastRatings)
[7m  [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/routes/last-ratings.ts[0m:[93m42[0m:[93m25[0m - [91merror[0m[90m TS1109: [0mExpression expected.

[7m42[0m   ratings.sort((a,b) => )
[7m  [0m [91m                        ~[0m

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\routes\last-ratings.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-6890582227395181.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-6890582227395181.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-6890582227395181.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-13 01:53:09 info: Server is running on http://localhost:3000
2021-12-13 01:53:17 info: Server is running on http://localhost:3000
2021-12-13 01:53:46 info: Server is running on http://localhost:3000
2021-12-13 01:56:49 info: Server is running on http://localhost:3000
2021-12-13 02:03:32 info: Server is running on http://localhost:3000
2021-12-13 09:51:29 info: Server is running on http://localhost:3000
2021-12-13 10:17:29 info: Server is running on http://localhost:3000
2021-12-13 10:30:19 info: Server is running on http://localhost:3000
2021-12-13 10:30:46 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:30:46 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 10:30:46 debug: orderlists.find
 query: {"_id":{"$in":["61b04ff1f2dee309efbc3f08"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:30:58 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:30:58 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:30:58 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:30:59 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:31:30 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:31:30 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:31:30 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:31:30 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:31:30 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:31:30 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:31:30 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:31:30.732Z"},"$set":{"updatedAt":"2021-12-13T07:31:30.732Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:31:30.634Z"}],"totalRating":10}}
 options: {}
2021-12-13 10:31:30 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","_id":"61b6f6d2c1d0a672c5081d2b","createdAt":"2021-12-13T07:31:30.837Z","updatedAt":"2021-12-13T07:31:30.837Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:31:33 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:31:33 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:35:17 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:35:18 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:35:26 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:35:26 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:35:26 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:35:26 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:35:26 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:35:26 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:35:26 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:35:26.531Z"},"$set":{"updatedAt":"2021-12-13T07:35:26.531Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":9,"comment":"nice","createdAt":"2021-12-13T07:35:26.472Z"}],"totalRating":9}}
 options: {}
2021-12-13 10:35:26 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61ae6df04f1be658c7063b65","rating":9,"comment":"nice","_id":"61b6f7bec1d0a672c5081d38","createdAt":"2021-12-13T07:35:26.597Z","updatedAt":"2021-12-13T07:35:26.597Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:35:28 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:35:28 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:35:33 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:35:33 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:35:33 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:35:33 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:35:33 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:35:33 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:35:33 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:35:33.810Z"},"$set":{"updatedAt":"2021-12-13T07:35:33.810Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:35:33.757Z"}],"totalRating":10}}
 options: {}
2021-12-13 10:35:33 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","_id":"61b6f7c5c1d0a672c5081d43","createdAt":"2021-12-13T07:35:33.877Z","updatedAt":"2021-12-13T07:35:33.877Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:35:35 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:35:35 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:36:31 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:36:31 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:36:31 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:36:31 debug: products.updateOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:36:31.540Z"},"$set":{"updatedAt":"2021-12-13T07:36:31.540Z","totalRating":0}}
 options: {}
2021-12-13 10:36:39 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:36:39 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:36:39 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:36:39 debug: products.updateOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:36:39.772Z"},"$set":{"updatedAt":"2021-12-13T07:36:39.772Z","totalRating":0}}
 options: {}
2021-12-13 10:36:46 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:36:46 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:36:46 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:36:46 debug: products.updateOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:36:46.908Z"},"$set":{"updatedAt":"2021-12-13T07:36:46.908Z","totalRating":0}}
 options: {}
2021-12-13 10:36:56 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:36:56 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:36:56 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:36:56 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:36:56 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:36:56 debug: products.findOne
 query: {"displayName":"carrot"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:36:56 debug: products.updateOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:36:56.450Z"},"$set":{"updatedAt":"2021-12-13T07:36:56.450Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:36:56.390Z"}],"totalRating":10}}
 options: {}
2021-12-13 10:36:56 debug: lastratings.insertOne
 query: {"product":"61af21a334d1c0181c1c20fd","user":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","_id":"61b6f818c1d0a672c5081d5a","createdAt":"2021-12-13T07:36:56.519Z","updatedAt":"2021-12-13T07:36:56.519Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:37:03 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:37:03 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:37:03 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:37:03 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:37:03 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:37:03 debug: products.findOne
 query: {"displayName":"apple"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:37:03 debug: products.updateOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:37:03.531Z"},"$set":{"updatedAt":"2021-12-13T07:37:03.531Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:37:03.470Z"}],"totalRating":10}}
 options: {}
2021-12-13 10:37:03 debug: lastratings.insertOne
 query: {"product":"61af26336acca0ff0072b2e5","user":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","_id":"61b6f81fc1d0a672c5081d63","createdAt":"2021-12-13T07:37:03.597Z","updatedAt":"2021-12-13T07:37:03.597Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:37:09 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:37:09 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:37:09 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:37:09 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:37:09 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:37:09 debug: products.findOne
 query: {"displayName":"orange"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:37:10 debug: products.updateOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:37:10.030Z"},"$set":{"updatedAt":"2021-12-13T07:37:10.030Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:37:09.971Z"}],"totalRating":10}}
 options: {}
2021-12-13 10:37:10 debug: lastratings.insertOne
 query: {"product":"61af23726acca0ff0072b2d3","user":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","_id":"61b6f826c1d0a672c5081d6c","createdAt":"2021-12-13T07:37:10.098Z","updatedAt":"2021-12-13T07:37:10.098Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:37:11 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:37:11 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:39:24 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:39:24 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:39:24 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:39:24 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:39:24 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:39:24 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:39:24 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:39:24.408Z"},"$set":{"updatedAt":"2021-12-13T07:39:24.408Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:24.358Z"}],"totalRating":10}}
 options: {}
2021-12-13 10:39:24 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","_id":"61b6f8acc1d0a672c5081d77","createdAt":"2021-12-13T07:39:24.479Z","updatedAt":"2021-12-13T07:39:24.479Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:39:30 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:39:30 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:39:30 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:39:30 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:39:30 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:39:30 debug: products.findOne
 query: {"displayName":"carrot"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:39:30 debug: products.updateOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:39:30.481Z"},"$set":{"updatedAt":"2021-12-13T07:39:30.481Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:30.416Z"}],"totalRating":10}}
 options: {}
2021-12-13 10:39:30 debug: lastratings.insertOne
 query: {"product":"61af21a334d1c0181c1c20fd","user":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","_id":"61b6f8b2c1d0a672c5081d80","createdAt":"2021-12-13T07:39:30.557Z","updatedAt":"2021-12-13T07:39:30.557Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:39:35 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:39:35 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:39:35 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:39:35 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:39:35 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:39:35 debug: products.findOne
 query: {"displayName":"apple"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:39:35 debug: products.updateOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:39:35.409Z"},"$set":{"updatedAt":"2021-12-13T07:39:35.409Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:35.356Z"}],"totalRating":10}}
 options: {}
2021-12-13 10:39:35 debug: lastratings.insertOne
 query: {"product":"61af26336acca0ff0072b2e5","user":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","_id":"61b6f8b7c1d0a672c5081d89","createdAt":"2021-12-13T07:39:35.478Z","updatedAt":"2021-12-13T07:39:35.478Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:39:41 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:39:41 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:39:41 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:39:41 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:39:41 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:39:41 debug: products.findOne
 query: {"displayName":"orange"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:39:41 debug: products.updateOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:39:41.666Z"},"$set":{"updatedAt":"2021-12-13T07:39:41.666Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:41.609Z"}],"totalRating":10}}
 options: {}
2021-12-13 10:39:41 debug: lastratings.insertOne
 query: {"product":"61af23726acca0ff0072b2d3","user":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","_id":"61b6f8bdc1d0a672c5081d92","createdAt":"2021-12-13T07:39:41.744Z","updatedAt":"2021-12-13T07:39:41.744Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:40:11 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:40:11 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:40:49 debug: users.findOne
 query: {"username":"sergey"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:40:49 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 10:40:49 debug: users.findOne
 query: {}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 10:40:49 debug: orderlists.find
 query: {"_id":{"$in":["61b04ff1f2dee309efbc3f08"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:40:49 debug: orderlists.insertOne
 query: {"products":[],"_id":"61b6f901c1d0a672c5081d9a","createdAt":"2021-12-13T07:40:49.631Z","updatedAt":"2021-12-13T07:40:49.631Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:40:49 debug: users.updateOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"$set":{"orderList":"61b6f901c1d0a672c5081d9a","updatedAt":"2021-12-13T07:40:49.706Z"}}
 options: {"session":null}
2021-12-13 10:41:05 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:41:05 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:41:05 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:41:05 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:41:05 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:41:05 debug: products.findOne
 query: {"displayName":"orange"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:41:05 debug: products.updateOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:41:05.637Z"},"$set":{"updatedAt":"2021-12-13T07:41:05.637Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:41.609Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:05.577Z"}],"totalRating":9}}
 options: {}
2021-12-13 10:41:05 debug: lastratings.insertOne
 query: {"product":"61af23726acca0ff0072b2d3","user":"61af26216acca0ff0072b2de","rating":8,"comment":"good","_id":"61b6f911c1d0a672c5081da4","createdAt":"2021-12-13T07:41:05.696Z","updatedAt":"2021-12-13T07:41:05.696Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:41:14 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:41:14 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:41:14 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:41:14 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:41:14 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:41:14 debug: products.findOne
 query: {"displayName":"apple"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:41:14 debug: products.updateOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:41:14.490Z"},"$set":{"updatedAt":"2021-12-13T07:41:14.490Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:35.356Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:14.427Z"}],"totalRating":9}}
 options: {}
2021-12-13 10:41:14 debug: lastratings.insertOne
 query: {"product":"61af26336acca0ff0072b2e5","user":"61af26216acca0ff0072b2de","rating":8,"comment":"good","_id":"61b6f91ac1d0a672c5081dad","createdAt":"2021-12-13T07:41:14.557Z","updatedAt":"2021-12-13T07:41:14.557Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:41:20 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:41:20 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:41:20 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:41:20 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:41:20 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:41:20 debug: products.findOne
 query: {"displayName":"carrot"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:41:20 debug: products.updateOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:41:20.796Z"},"$set":{"updatedAt":"2021-12-13T07:41:20.796Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:30.416Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:20.728Z"}],"totalRating":9}}
 options: {}
2021-12-13 10:41:20 debug: lastratings.insertOne
 query: {"product":"61af21a334d1c0181c1c20fd","user":"61af26216acca0ff0072b2de","rating":8,"comment":"good","_id":"61b6f920c1d0a672c5081db6","createdAt":"2021-12-13T07:41:20.856Z","updatedAt":"2021-12-13T07:41:20.856Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:41:25 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:41:25 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:41:25 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:41:26 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:41:26 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:41:26 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:41:26 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T07:41:26.207Z"},"$set":{"updatedAt":"2021-12-13T07:41:26.207Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:24.358Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:26.149Z"}],"totalRating":9}}
 options: {}
2021-12-13 10:41:26 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61af26216acca0ff0072b2de","rating":8,"comment":"good","_id":"61b6f926c1d0a672c5081dbf","createdAt":"2021-12-13T07:41:26.275Z","updatedAt":"2021-12-13T07:41:26.275Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 10:41:27 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 10:41:28 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 10:42:41 info: Server is running on http://localhost:3000
2021-12-13 10:42:58 info: Server is running on http://localhost:3000
2021-12-13 10:43:18 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:43:18 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":1},"limit":10,"projection":{}}
 options: undefined
2021-12-13 10:43:49 info: Server is running on http://localhost:3000
2021-12-13 10:44:11 info: Server is running on http://localhost:3000
2021-12-13 10:44:15 info: Server is running on http://localhost:3000
2021-12-13 10:44:17 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:44:17 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{}}
 options: undefined
2021-12-13 10:44:17 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:44:35 info: Server is running on http://localhost:3000
2021-12-13 10:44:38 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:44:38 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{}}
 options: undefined
2021-12-13 10:44:38 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:44:38 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:44:58 info: Server is running on http://localhost:3000
2021-12-13 10:45:18 info: Server is running on http://localhost:3000
2021-12-13 10:45:20 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:45:20 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product.displayName":1,"rating":1,"comment":1,"user.username":1,"product":1,"user":1}}
 options: undefined
2021-12-13 10:45:57 info: Server is running on http://localhost:3000
2021-12-13 10:45:59 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:45:59 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 10:45:59 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:45:59 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:46:37 info: Server is running on http://localhost:3000
2021-12-13 10:46:46 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:46:46 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 10:46:46 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"product.displayName":1,"user.username":1}}
 options: undefined
2021-12-13 10:46:46 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"product.displayName":1,"user.username":1}}
 options: undefined
2021-12-13 10:47:14 info: Server is running on http://localhost:3000
2021-12-13 10:47:16 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:47:16 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 10:47:16 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:47:16 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:47:29 info: Server is running on http://localhost:3000
2021-12-13 10:47:41 info: Server is running on http://localhost:3000
2021-12-13 10:47:43 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:47:43 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 10:47:43 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"product.displayName":1}}
 options: undefined
2021-12-13 10:47:43 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"product.displayName":1}}
 options: undefined
2021-12-13 10:48:02 info: Server is running on http://localhost:3000
2021-12-13 10:48:03 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 10:48:03 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 10:48:03 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 10:48:03 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 11:23:16 error: Error: тип Unable to compile TypeScript:
[96msrc/repository/last-ratings/LastRatingsRepository.ts[0m:[93m20[0m:[93m30[0m - [91merror[0m[90m TS2339: [0mProperty 'get' does not exist on type 'LastRatingsMongoRepository | LastRatingsTypeOrmRepository'.
  Property 'get' does not exist on type 'LastRatingsMongoRepository'.

[7m20[0m     return await this.entity.get()
[7m  [0m [91m                             ~~~[0m

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\last-ratings\LastRatingsRepository.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-02212487219740611.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-02212487219740611.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-02212487219740611.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-13 11:28:43 info: Server is running on http://localhost:3000
2021-12-13 11:29:16 debug: users.findOne
 query: {"username":"sergey"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:29:16 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 11:29:16 debug: users.findOne
 query: {}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 11:29:16 debug: orderlists.find
 query: {"_id":{"$in":["61b6f901c1d0a672c5081d9a"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:29:17 debug: orderlists.insertOne
 query: {"products":[],"_id":"61b7045d694dfad9b9c18da5","createdAt":"2021-12-13T08:29:17.008Z","updatedAt":"2021-12-13T08:29:17.008Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 11:29:17 debug: users.updateOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"$set":{"orderList":"61b7045d694dfad9b9c18da5","updatedAt":"2021-12-13T08:29:17.123Z"}}
 options: {"session":null}
2021-12-13 11:33:13 debug: users.findOne
 query: {"username":"sergey"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:33:13 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 11:33:13 debug: users.findOne
 query: {}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 11:33:13 debug: orderlists.find
 query: {"_id":{"$in":["61b7045d694dfad9b9c18da5"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:33:13 debug: orderlists.insertOne
 query: {"products":[],"_id":"61b70549694dfad9b9c18dac","createdAt":"2021-12-13T08:33:13.540Z","updatedAt":"2021-12-13T08:33:13.540Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 11:33:13 debug: users.updateOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"$set":{"orderList":"61b70549694dfad9b9c18dac","updatedAt":"2021-12-13T08:33:13.611Z"}}
 options: {"session":null}
2021-12-13 11:33:32 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:33:32 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 11:33:32 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 11:33:32 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 11:34:05 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:34:05 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 11:34:05 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 11:34:05 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 11:35:26 info: Server is running on http://localhost:3000
2021-12-13 11:50:35 debug: users.findOne
 query: {"username":"rubchik"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:50:35 debug: users.insertOne
 query: {"username":"rubchik","password":"$2a$10$v0rZXcfV2iIzIdd8adqdHuVCaaynQCf0eTOmPGGXcvkSDuZ3mIFma","role":"buyer","_id":"61b7095b3586428b2f45fa38","createdAt":"2021-12-13T08:50:35.636Z","updatedAt":"2021-12-13T08:50:35.636Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 11:50:42 debug: users.findOne
 query: {"username":"rubchik"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:50:42 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 11:50:42 debug: users.findOne
 query: {}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 11:50:42 debug: orderlists.find
 query: {"_id":{"$in":["61b70549694dfad9b9c18dac"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:50:42 debug: orderlists.insertOne
 query: {"products":[],"_id":"61b709623586428b2f45fa3e","createdAt":"2021-12-13T08:50:42.564Z","updatedAt":"2021-12-13T08:50:42.564Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 11:50:42 debug: users.updateOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"$set":{"orderList":"61b709623586428b2f45fa3e","updatedAt":"2021-12-13T08:50:42.663Z"}}
 options: {"session":null}
2021-12-13 11:53:05 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:53:05 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:53:30 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:53:30 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:53:30 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:53:30 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:53:30 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:53:31 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:53:31 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T08:53:31.080Z"},"$set":{"updatedAt":"2021-12-13T08:53:31.080Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:24.358Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:26.149Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","createdAt":"2021-12-13T08:53:31.003Z"}],"totalRating":8}}
 options: {}
2021-12-13 11:53:31 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","_id":"61b70a0b3586428b2f45fa4a","createdAt":"2021-12-13T08:53:31.176Z","updatedAt":"2021-12-13T08:53:31.176Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 11:53:40 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:53:40 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:53:40 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:53:40 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:53:40 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:53:40 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:53:40 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T08:53:40.899Z"},"$set":{"updatedAt":"2021-12-13T08:53:40.899Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:24.358Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:26.149Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","createdAt":"2021-12-13T08:53:40.820Z"}],"totalRating":7.3}}
 options: {}
2021-12-13 11:53:40 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","_id":"61b70a143586428b2f45fa53","createdAt":"2021-12-13T08:53:40.994Z","updatedAt":"2021-12-13T08:53:40.994Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 11:53:50 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:53:51 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:53:51 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:53:51 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:53:51 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:53:51 debug: products.findOne
 query: {"displayName":"apple"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:53:51 debug: products.updateOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T08:53:51.378Z"},"$set":{"updatedAt":"2021-12-13T08:53:51.378Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:35.356Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:14.427Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","createdAt":"2021-12-13T08:53:51.317Z"}],"totalRating":8}}
 options: {}
2021-12-13 11:53:51 debug: lastratings.insertOne
 query: {"product":"61af26336acca0ff0072b2e5","user":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","_id":"61b70a1f3586428b2f45fa5c","createdAt":"2021-12-13T08:53:51.450Z","updatedAt":"2021-12-13T08:53:51.450Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 11:53:57 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:53:57 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:53:57 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:53:57 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:53:57 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:53:57 debug: products.findOne
 query: {"displayName":"orange"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:53:57 debug: products.updateOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T08:53:57.706Z"},"$set":{"updatedAt":"2021-12-13T08:53:57.706Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:41.609Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:05.577Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","createdAt":"2021-12-13T08:53:57.629Z"}],"totalRating":8}}
 options: {}
2021-12-13 11:53:57 debug: lastratings.insertOne
 query: {"product":"61af23726acca0ff0072b2d3","user":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","_id":"61b70a253586428b2f45fa65","createdAt":"2021-12-13T08:53:57.797Z","updatedAt":"2021-12-13T08:53:57.797Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 11:53:58 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:53:58 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:54:33 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:54:33 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:54:33 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:54:33 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:54:33 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:54:33 debug: products.findOne
 query: {"displayName":"carrot"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:54:33 debug: products.updateOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T08:54:33.937Z"},"$set":{"updatedAt":"2021-12-13T08:54:33.937Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:30.416Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:20.728Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","createdAt":"2021-12-13T08:54:33.879Z"}],"totalRating":8}}
 options: {}
2021-12-13 11:54:34 debug: lastratings.insertOne
 query: {"product":"61af21a334d1c0181c1c20fd","user":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","_id":"61b70a4a3586428b2f45fa70","createdAt":"2021-12-13T08:54:34.012Z","updatedAt":"2021-12-13T08:54:34.012Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 11:54:35 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:54:35 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:54:57 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:54:57 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:54:58 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:54:58 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:54:58 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:54:58 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 11:54:58 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T08:54:58.318Z"},"$set":{"updatedAt":"2021-12-13T08:54:58.318Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:24.358Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:26.149Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","createdAt":"2021-12-13T08:54:58.240Z"}],"totalRating":6.9}}
 options: {}
2021-12-13 11:54:58 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","_id":"61b70a623586428b2f45fa7b","createdAt":"2021-12-13T08:54:58.389Z","updatedAt":"2021-12-13T08:54:58.389Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 11:54:59 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 11:54:59 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 11:55:43 info: Server is running on http://localhost:3000
2021-12-13 12:00:44 info: Server is running on http://localhost:3000
2021-12-13 12:01:01 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:01:04 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:01:04 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 12:01:04 debug: orderlists.find
 query: {"_id":{"$in":["61b709623586428b2f45fa3e"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:01:24 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:01:24 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:01:41 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:01:41 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:01:41 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:01:41 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T09:01:41.718Z"},"$set":{"updatedAt":"2021-12-13T09:01:41.718Z","totalRating":8}}
 options: {}
2021-12-13 12:01:44 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:01:44 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:01:59 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:01:59 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:01:59 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:01:59 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:01:59 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:01:59 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:01:59 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T09:01:59.964Z"},"$set":{"updatedAt":"2021-12-13T09:01:59.964Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:24.358Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:26.149Z"},{"userId":"61b7095b3586428b2f45fa38","rating":10,"comment":"nice","createdAt":"2021-12-13T09:01:59.879Z"}],"totalRating":9.3}}
 options: {}
2021-12-13 12:02:00 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61b7095b3586428b2f45fa38","rating":10,"comment":"nice","_id":"61b70c085c7fd8e23b40ab07","createdAt":"2021-12-13T09:02:00.051Z","updatedAt":"2021-12-13T09:02:00.051Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 12:02:01 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:02:01 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:02:40 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:02:40 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:02:40 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:02:40 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:02:40 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:02:40 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:02:40 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T09:02:40.998Z"},"$set":{"updatedAt":"2021-12-13T09:02:40.998Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:24.358Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:26.149Z"},{"userId":"61b7095b3586428b2f45fa38","rating":10,"comment":"u","createdAt":"2021-12-13T09:02:40.918Z"}],"totalRating":9.3}}
 options: {}
2021-12-13 12:02:41 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61b7095b3586428b2f45fa38","rating":10,"comment":"u","_id":"61b70c315c7fd8e23b40ab12","createdAt":"2021-12-13T09:02:41.088Z","updatedAt":"2021-12-13T09:02:41.088Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 12:02:42 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:02:42 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:03:36 info: Server is running on http://localhost:3000
2021-12-13 12:04:46 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:04:46 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:04:46 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:04:46 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:04:46 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:04:46 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:04:46 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T09:04:46.859Z"},"$set":{"updatedAt":"2021-12-13T09:04:46.859Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"u","createdAt":"2021-12-13T09:04:46.784Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:26.149Z"},{"userId":"61b7095b3586428b2f45fa38","rating":10,"comment":"u","createdAt":"2021-12-13T09:02:40.918Z"}],"totalRating":9.3}}
 options: {}
2021-12-13 12:04:46 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61ae6df04f1be658c7063b65","rating":10,"comment":"u","_id":"61b70cae49c4b4338a2e661a","createdAt":"2021-12-13T09:04:46.968Z","updatedAt":"2021-12-13T09:04:46.968Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 12:04:48 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:04:48 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:05:08 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:05:08 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:05:08 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:05:08 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:05:09 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:05:09 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:05:09 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T09:05:09.163Z"},"$set":{"updatedAt":"2021-12-13T09:05:09.163Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T09:05:09.078Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:26.149Z"},{"userId":"61b7095b3586428b2f45fa38","rating":10,"comment":"u","createdAt":"2021-12-13T09:02:40.918Z"}],"totalRating":9.3}}
 options: {}
2021-12-13 12:05:09 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","_id":"61b70cc549c4b4338a2e6625","createdAt":"2021-12-13T09:05:09.248Z","updatedAt":"2021-12-13T09:05:09.248Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 12:05:10 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:05:10 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:05:22 debug: users.findOne
 query: {"username":"rubchik"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:05:22 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 12:05:22 debug: users.findOne
 query: {}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 12:05:22 debug: orderlists.find
 query: {"_id":{"$in":["61b709623586428b2f45fa3e"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:05:22 debug: orderlists.insertOne
 query: {"products":[],"_id":"61b70cd249c4b4338a2e662d","createdAt":"2021-12-13T09:05:22.647Z","updatedAt":"2021-12-13T09:05:22.647Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 12:05:22 debug: users.updateOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"$set":{"orderList":"61b70cd249c4b4338a2e662d","updatedAt":"2021-12-13T09:05:22.722Z"}}
 options: {"session":null}
2021-12-13 12:05:35 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:05:35 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:05:35 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:05:35 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:05:35 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:05:36 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:05:36 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T09:05:36.138Z"},"$set":{"updatedAt":"2021-12-13T09:05:36.138Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T09:05:09.078Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:26.149Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T09:05:36.059Z"}],"totalRating":8}}
 options: {}
2021-12-13 12:05:36 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","_id":"61b70ce049c4b4338a2e6637","createdAt":"2021-12-13T09:05:36.228Z","updatedAt":"2021-12-13T09:05:36.228Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 12:05:37 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:05:37 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:05:52 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:05:52 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:05:52 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:05:52 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:05:52 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:05:52 debug: products.findOne
 query: {"displayName":"carrot"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:05:52 debug: products.updateOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T09:05:52.727Z"},"$set":{"updatedAt":"2021-12-13T09:05:52.727Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:30.416Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:20.728Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T09:05:52.638Z"}],"totalRating":8}}
 options: {}
2021-12-13 12:05:52 debug: lastratings.insertOne
 query: {"product":"61af21a334d1c0181c1c20fd","user":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","_id":"61b70cf049c4b4338a2e6642","createdAt":"2021-12-13T09:05:52.806Z","updatedAt":"2021-12-13T09:05:52.806Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 12:05:53 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:05:53 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:06:25 info: Server is running on http://localhost:3000
2021-12-13 12:06:59 info: Server is running on http://localhost:3000
2021-12-13 12:07:05 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:07:05 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:07:05 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:07:05 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:07:05 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:07:05 debug: products.findOne
 query: {"displayName":"carrot"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:07:05 debug: products.updateOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T09:07:05.537Z"},"$set":{"updatedAt":"2021-12-13T09:07:05.537Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"nice","createdAt":"2021-12-13T07:39:30.416Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T07:41:20.728Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","createdAt":"2021-12-13T09:07:05.456Z"}],"totalRating":8}}
 options: {}
2021-12-13 12:07:05 debug: lastratings.insertOne
 query: {"product":"61af21a334d1c0181c1c20fd","user":"61b7095b3586428b2f45fa38","rating":6,"comment":"so so","_id":"61b70d39145a2b05e8303df4","createdAt":"2021-12-13T09:07:05.633Z","updatedAt":"2021-12-13T09:07:05.633Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 12:07:17 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 12:07:17 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 12:10:33 error: Error: тип Unable to compile TypeScript:
[96msrc/repository/last-ratings/LastRatingsRepository.ts[0m:[93m28[0m:[93m23[0m - [91merror[0m[90m TS2339: [0mProperty 'update' does not exist on type 'LastRatingsMongoRepository | LastRatingsTypeOrmRepository'.
  Property 'update' does not exist on type 'LastRatingsMongoRepository'.

[7m28[0m     await this.entity.update()
[7m  [0m [91m                      ~~~~~~[0m

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\last-ratings\LastRatingsRepository.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-7209046020396663.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-7209046020396663.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-7209046020396663.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-13 12:12:33 info: Server is running on http://localhost:3000
2021-12-13 12:13:34 info: Server is running on http://localhost:3000
2021-12-13 12:13:51 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:13:51 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:13:51 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:13:51 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:14:19 info: Server is running on http://localhost:3000
2021-12-13 12:14:27 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:14:27 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:14:27 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:14:27 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:14:27 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:14:27 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:14:27 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:24:14 info: Server is running on http://localhost:3000
2021-12-13 12:25:18 info: Server is running on http://localhost:3000
2021-12-13 12:25:39 info: Server is running on http://localhost:3000
2021-12-13 12:26:05 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:26:05 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:26:05 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:26:05 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:27:16 info: Server is running on http://localhost:3000
2021-12-13 12:27:34 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:27:34 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:27:34 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:27:34 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:29:57 error: Error: тип Unable to compile TypeScript:
[96msrc/repository/last-ratings/LastRatingsMongoRepository.ts[0m:[93m25[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'any[]' is not assignable to type 'QueryWithHelpers<(Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { _id: any; })[], Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { ...; }, BeAnObject, DocumentType<...>>'.
  Type 'any[]' is missing the following properties from type 'Query<(Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { _id: any; })[], Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { ...; }, BeAnObject, DocumentType<...>>': _mongooseOptions, exec, $where, all, and 88 more.

[7m25[0m       allRatings = [...allRatings.sort((a,b) => +b.createdAt - +a.createdAt).splice(10)]
[7m  [0m [91m      ~~~~~~~~~~[0m

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\last-ratings\LastRatingsMongoRepository.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2973902355363405.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2973902355363405.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2973902355363405.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-13 12:30:30 info: Server is running on http://localhost:3000
2021-12-13 12:30:49 info: Server is running on http://localhost:3000
2021-12-13 12:30:52 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:30:52 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:30:52 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:30:52 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:31:40 error: Error: тип Unable to compile TypeScript:
[96msrc/repository/last-ratings/LastRatingsMongoRepository.ts[0m:[93m25[0m:[93m64[0m - [91merror[0m[90m TS2339: [0mProperty 'createdAt' does not exist on type 'string'.

[7m25[0m       allRatings = allRatings.sort((a: string,b: string) => +b.createdAt - +a.createdAt).splice(10)
[7m  [0m [91m                                                               ~~~~~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsMongoRepository.ts[0m:[93m25[0m:[93m79[0m - [91merror[0m[90m TS2339: [0mProperty 'createdAt' does not exist on type 'string'.

[7m25[0m       allRatings = allRatings.sort((a: string,b: string) => +b.createdAt - +a.createdAt).splice(10)
[7m  [0m [91m                                                                              ~~~~~~~~~[0m

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\last-ratings\LastRatingsMongoRepository.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2973902355363405.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2973902355363405.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2973902355363405.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-13 12:31:58 info: Server is running on http://localhost:3000
2021-12-13 12:32:05 info: Server is running on http://localhost:3000
2021-12-13 12:32:08 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:32:08 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:32:08 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:32:08 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:32:38 info: Server is running on http://localhost:3000
2021-12-13 12:32:39 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:32:39 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:32:39 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:32:39 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:32:48 info: Server is running on http://localhost:3000
2021-12-13 12:32:51 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:32:51 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:32:51 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:32:51 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:32:51 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:33:04 error: Error: тип Unable to compile TypeScript:
[96msrc/repository/last-ratings/LastRatingsMongoRepository.ts[0m:[93m25[0m:[93m48[0m - [91merror[0m[90m TS2339: [0mProperty 'createdAt' does not exist on type 'Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { _id: any; }'.

[7m25[0m       allRatings = allRatings.sort((a,b) => +b.createdAt - +a.createdAt)
[7m  [0m [91m                                               ~~~~~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsMongoRepository.ts[0m:[93m25[0m:[93m63[0m - [91merror[0m[90m TS2339: [0mProperty 'createdAt' does not exist on type 'Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { _id: any; }'.

[7m25[0m       allRatings = allRatings.sort((a,b) => +b.createdAt - +a.createdAt)
[7m  [0m [91m                                                              ~~~~~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsMongoRepository.ts[0m:[93m28[0m:[93m24[0m - [91merror[0m[90m TS2339: [0mProperty 'save' does not exist on type '(Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { _id: any; })[]'.

[7m28[0m       await allRatings.save()
[7m  [0m [91m                       ~~~~[0m

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\last-ratings\LastRatingsMongoRepository.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2973902355363405.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2973902355363405.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2973902355363405.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-13 12:33:53 error: Error: тип Unable to compile TypeScript:
[96msrc/repository/last-ratings/LastRatingsMongoRepository.ts[0m:[93m25[0m:[93m48[0m - [91merror[0m[90m TS2339: [0mProperty 'createdAt' does not exist on type 'Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { _id: any; }'.

[7m25[0m       allRatings = allRatings.sort((a,b) => +b.createdAt - +a.createdAt)
[7m  [0m [91m                                               ~~~~~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsMongoRepository.ts[0m:[93m25[0m:[93m63[0m - [91merror[0m[90m TS2339: [0mProperty 'createdAt' does not exist on type 'Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { _id: any; }'.

[7m25[0m       allRatings = allRatings.sort((a,b) => +b.createdAt - +a.createdAt)
[7m  [0m [91m                                                              ~~~~~~~~~[0m

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\last-ratings\LastRatingsMongoRepository.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2973902355363405.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2973902355363405.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2973902355363405.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-13 12:34:12 info: Server is running on http://localhost:3000
2021-12-13 12:34:16 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:34:16 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:34:16 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:34:16 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:34:16 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:34:40 info: Server is running on http://localhost:3000
2021-12-13 12:34:41 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:34:42 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:34:42 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:34:42 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:34:42 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:35:00 info: Server is running on http://localhost:3000
2021-12-13 12:35:03 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:35:03 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:35:03 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:35:03 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:35:03 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:35:21 info: Server is running on http://localhost:3000
2021-12-13 12:35:32 info: Server is running on http://localhost:3000
2021-12-13 12:35:35 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:35:35 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:35:35 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:35:35 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:35:35 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:35:49 info: Server is running on http://localhost:3000
2021-12-13 12:35:52 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:35:52 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:35:52 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:35:52 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:35:52 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:36:01 info: Server is running on http://localhost:3000
2021-12-13 12:36:02 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:36:02 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:36:03 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:36:03 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:36:03 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:36:16 info: Server is running on http://localhost:3000
2021-12-13 12:36:18 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:36:19 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:36:19 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:36:19 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:36:19 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:36:30 info: Server is running on http://localhost:3000
2021-12-13 12:36:32 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:36:32 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:36:32 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:36:32 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:36:32 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:36:52 error: Error: тип Unable to compile TypeScript:
[96msrc/repository/last-ratings/LastRatingsMongoRepository.ts[0m:[93m26[0m:[93m24[0m - [91merror[0m[90m TS2339: [0mProperty 'save' does not exist on type '(Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { _id: any; })[]'.

[7m26[0m       await allRatings.save()
[7m  [0m [91m                       ~~~~[0m

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\last-ratings\LastRatingsMongoRepository.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-9571317023032617.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-9571317023032617.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-9571317023032617.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-13 12:37:20 info: Server is running on http://localhost:3000
2021-12-13 12:37:27 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:37:27 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:37:27 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:37:27 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:37:27 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:38:04 info: Server is running on http://localhost:3000
2021-12-13 12:39:00 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:39:00 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:39:00 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:39:00 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:39:00 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:39:19 info: Server is running on http://localhost:3000
2021-12-13 12:39:21 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:39:21 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:39:21 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:39:21 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:39:21 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:41:28 error: Error: тип Unable to compile TypeScript:
[96msrc/repository/last-ratings/LastRatingsMongoRepository.ts[0m:[93m25[0m:[93m24[0m - [91merror[0m[90m TS2339: [0mProperty 'save' does not exist on type '(Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { _id: any; })[]'.

[7m25[0m       await allRatings.save()
[7m  [0m [91m                       ~~~~[0m
[96msrc/repository/last-ratings/LastRatingsMongoRepository.ts[0m:[93m28[0m:[93m24[0m - [91merror[0m[90m TS2339: [0mProperty 'save' does not exist on type '(Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { _id: any; })[]'.

[7m28[0m       await allRatings.save()
[7m  [0m [91m                       ~~~~[0m

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\last-ratings\LastRatingsMongoRepository.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-9571317023032617.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-9571317023032617.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-9571317023032617.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-13 12:41:42 info: Server is running on http://localhost:3000
2021-12-13 12:41:46 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:41:46 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:41:46 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:41:46 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:41:46 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:42:21 info: Server is running on http://localhost:3000
2021-12-13 12:42:25 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:42:25 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 12:42:25 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 12:42:25 debug: products.find
 query: {"_id":{"$in":["61af21a334d1c0181c1c20fd","61af212c76ab25307069a905","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 12:42:25 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:13:07 info: Server is running on http://localhost:3000
2021-12-13 23:15:46 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:15:46 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:15:46 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:15:46 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:22:50 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:22:50 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 23:22:50 debug: orderlists.find
 query: {"_id":{"$in":["61b70cd249c4b4338a2e662d"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:23:03 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:23:04 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:23:04 debug: lastratings.deleteMany
 query: {}
 doc: {}
 options: undefined
2021-12-13 23:23:04 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:25:53 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:25:53 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:26:25 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:26:25 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:26:25 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:26:25 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:26:25 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:26:25 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:26:26 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:26:26.050Z"},"$set":{"updatedAt":"2021-12-13T20:26:26.050Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:25.946Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:26:26 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","_id":"61b7ac72fd7588fa1847e245","createdAt":"2021-12-13T20:26:26.141Z","updatedAt":"2021-12-13T20:26:26.141Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:26:35 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:26:35 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:26:35 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:26:35 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:26:35 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:26:35 debug: products.findOne
 query: {"displayName":"carrot"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:26:35 debug: products.updateOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:26:35.886Z"},"$set":{"updatedAt":"2021-12-13T20:26:35.886Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:35.828Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:26:35 debug: lastratings.insertOne
 query: {"product":"61af21a334d1c0181c1c20fd","user":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","_id":"61b7ac7bfd7588fa1847e24e","createdAt":"2021-12-13T20:26:35.954Z","updatedAt":"2021-12-13T20:26:35.954Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:26:46 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:26:47 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:26:47 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:26:47 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:26:47 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:26:47 debug: products.findOne
 query: {"displayName":"apple"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:26:47 debug: products.updateOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:26:47.387Z"},"$set":{"updatedAt":"2021-12-13T20:26:47.387Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:47.308Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:26:47 debug: lastratings.insertOne
 query: {"product":"61af26336acca0ff0072b2e5","user":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","_id":"61b7ac87fd7588fa1847e257","createdAt":"2021-12-13T20:26:47.467Z","updatedAt":"2021-12-13T20:26:47.467Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:26:53 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:26:54 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:26:54 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:26:54 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:26:54 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:26:54 debug: products.findOne
 query: {"displayName":"orange"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:26:54 debug: products.updateOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:26:54.387Z"},"$set":{"updatedAt":"2021-12-13T20:26:54.387Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:54.326Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:26:54 debug: lastratings.insertOne
 query: {"product":"61af23726acca0ff0072b2d3","user":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","_id":"61b7ac8efd7588fa1847e260","createdAt":"2021-12-13T20:26:54.457Z","updatedAt":"2021-12-13T20:26:54.457Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:26:55 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:26:56 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:28:20 info: Server is running on http://localhost:3000
2021-12-13 23:28:55 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:28:55 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:28:55 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:28:55 debug: products.find
 query: {"_id":{"$in":["61af23726acca0ff0072b2d3","61af26336acca0ff0072b2e5","61af21a334d1c0181c1c20fd","61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:28:55 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:29:30 info: Server is running on http://localhost:3000
2021-12-13 23:29:39 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:29:39 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:29:39 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:29:39 debug: products.find
 query: {"_id":{"$in":["61af23726acca0ff0072b2d3","61af26336acca0ff0072b2e5","61af21a334d1c0181c1c20fd","61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:29:39 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:30:48 info: Server is running on http://localhost:3000
2021-12-13 23:30:53 info: Server is running on http://localhost:3000
2021-12-13 23:30:53 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:30:54 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:30:54 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:30:54 debug: products.find
 query: {"_id":{"$in":["61af23726acca0ff0072b2d3","61af26336acca0ff0072b2e5","61af21a334d1c0181c1c20fd","61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:30:54 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:33:24 info: Server is running on http://localhost:3000
2021-12-13 23:33:31 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:33:31 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:33:31 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:33:31 debug: products.find
 query: {"_id":{"$in":["61af23726acca0ff0072b2d3","61af26336acca0ff0072b2e5","61af21a334d1c0181c1c20fd","61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:33:31 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:34:14 debug: users.findOne
 query: {"username":"sergey"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:34:14 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 23:34:14 debug: users.findOne
 query: {}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 23:34:14 debug: orderlists.find
 query: {"_id":{"$in":["61b70cd249c4b4338a2e662d"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:34:14 debug: orderlists.insertOne
 query: {"products":[],"_id":"61b7ae46e962b429583be144","createdAt":"2021-12-13T20:34:14.738Z","updatedAt":"2021-12-13T20:34:14.738Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:34:14 debug: users.updateOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"$set":{"orderList":"61b7ae46e962b429583be144","updatedAt":"2021-12-13T20:34:14.935Z"}}
 options: {"session":null}
2021-12-13 23:34:39 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:34:39 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:34:39 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:34:39 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:34:40 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:34:40 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:34:40 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:34:40.210Z"},"$set":{"updatedAt":"2021-12-13T20:34:40.210Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:25.946Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:34:40.112Z"}],"totalRating":9}}
 options: {}
2021-12-13 23:34:40 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","_id":"61b7ae60e962b429583be14e","createdAt":"2021-12-13T20:34:40.302Z","updatedAt":"2021-12-13T20:34:40.302Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:34:46 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:34:46 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:34:46 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:34:46 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:34:46 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:34:46 debug: products.findOne
 query: {"displayName":"carrot"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:34:46 debug: products.updateOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:34:46.636Z"},"$set":{"updatedAt":"2021-12-13T20:34:46.636Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:35.828Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:34:46.551Z"}],"totalRating":9}}
 options: {}
2021-12-13 23:34:46 debug: lastratings.insertOne
 query: {"product":"61af21a334d1c0181c1c20fd","user":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","_id":"61b7ae66e962b429583be157","createdAt":"2021-12-13T20:34:46.718Z","updatedAt":"2021-12-13T20:34:46.718Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:34:52 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:34:52 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:34:52 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:34:52 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:34:52 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:34:53 debug: products.findOne
 query: {"displayName":"apple"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:34:53 debug: products.updateOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:34:53.166Z"},"$set":{"updatedAt":"2021-12-13T20:34:53.166Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:47.308Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:34:53.078Z"}],"totalRating":9}}
 options: {}
2021-12-13 23:34:53 debug: lastratings.insertOne
 query: {"product":"61af26336acca0ff0072b2e5","user":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","_id":"61b7ae6de962b429583be160","createdAt":"2021-12-13T20:34:53.258Z","updatedAt":"2021-12-13T20:34:53.258Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:34:57 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:34:57 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:34:57 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:34:57 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:34:57 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:34:57 debug: products.findOne
 query: {"displayName":"orange"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:34:57 debug: products.updateOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:34:57.911Z"},"$set":{"updatedAt":"2021-12-13T20:34:57.911Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:54.326Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:34:57.838Z"}],"totalRating":9}}
 options: {}
2021-12-13 23:34:58 debug: lastratings.insertOne
 query: {"product":"61af23726acca0ff0072b2d3","user":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","_id":"61b7ae71e962b429583be169","createdAt":"2021-12-13T20:34:58.000Z","updatedAt":"2021-12-13T20:34:58.000Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:34:59 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:34:59 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:35:08 debug: users.findOne
 query: {"username":"rubchik"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:35:08 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 23:35:08 debug: users.findOne
 query: {}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 23:35:09 debug: orderlists.find
 query: {"_id":{"$in":["61b7ae46e962b429583be144"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:35:09 debug: orderlists.insertOne
 query: {"products":[],"_id":"61b7ae7de962b429583be171","createdAt":"2021-12-13T20:35:09.129Z","updatedAt":"2021-12-13T20:35:09.129Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:35:09 debug: users.updateOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"$set":{"orderList":"61b7ae7de962b429583be171","updatedAt":"2021-12-13T20:35:09.219Z"}}
 options: {"session":null}
2021-12-13 23:35:25 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:35:25 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:35:25 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:35:25 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:35:25 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:35:25 debug: products.findOne
 query: {"displayName":"orange"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:35:25 debug: products.updateOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:35:25.831Z"},"$set":{"updatedAt":"2021-12-13T20:35:25.831Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:54.326Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:34:57.838Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:25.752Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:35:25 debug: lastratings.insertOne
 query: {"product":"61af23726acca0ff0072b2d3","user":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","_id":"61b7ae8de962b429583be17b","createdAt":"2021-12-13T20:35:25.921Z","updatedAt":"2021-12-13T20:35:25.921Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:35:39 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:35:39 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:35:39 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:35:40 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:35:40 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:35:40 debug: products.findOne
 query: {"displayName":"apple"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:35:40 debug: products.updateOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:35:40.250Z"},"$set":{"updatedAt":"2021-12-13T20:35:40.250Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:47.308Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:34:53.078Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:40.184Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:35:40 debug: lastratings.insertOne
 query: {"product":"61af26336acca0ff0072b2e5","user":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","_id":"61b7ae9ce962b429583be184","createdAt":"2021-12-13T20:35:40.338Z","updatedAt":"2021-12-13T20:35:40.338Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:35:45 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:35:45 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:35:45 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:35:45 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:35:46 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:35:46 debug: products.findOne
 query: {"displayName":"carrot"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:35:46 debug: products.updateOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:35:46.171Z"},"$set":{"updatedAt":"2021-12-13T20:35:46.171Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:35.828Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:34:46.551Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:46.098Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:35:46 debug: lastratings.insertOne
 query: {"product":"61af21a334d1c0181c1c20fd","user":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","_id":"61b7aea2e962b429583be18d","createdAt":"2021-12-13T20:35:46.258Z","updatedAt":"2021-12-13T20:35:46.258Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:35:51 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:35:51 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:35:51 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:35:51 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:35:51 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:35:51 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:35:51 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:35:51.512Z"},"$set":{"updatedAt":"2021-12-13T20:35:51.512Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:25.946Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:34:40.112Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:51.429Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:35:51 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","_id":"61b7aea7e962b429583be196","createdAt":"2021-12-13T20:35:51.608Z","updatedAt":"2021-12-13T20:35:51.608Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:35:53 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:35:53 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:36:08 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:36:08 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:36:08 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:36:08 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:36:08 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:36:48 info: Server is running on http://localhost:3000
2021-12-13 23:36:50 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:36:50 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:36:50 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:36:51 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:36:51 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:37:21 info: Server is running on http://localhost:3000
2021-12-13 23:37:26 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:37:26 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:37:26 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:37:26 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:37:26 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:37:45 info: Server is running on http://localhost:3000
2021-12-13 23:37:49 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:37:49 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:37:49 debug: lastratings.updateMany
 query: {}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:37:49.285Z"},"$set":{"updatedAt":"2021-12-13T20:37:49.285Z"}}
 options: {}
2021-12-13 23:37:49 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:37:49 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:37:49 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:38:14 info: Server is running on http://localhost:3000
2021-12-13 23:38:28 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:38:28 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:38:28 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:38:28 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:38:28 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:38:50 error: Error: тип Unable to compile TypeScript:
[96msrc/repository/last-ratings/LastRatingsMongoRepository.ts[0m:[93m28[0m:[93m42[0m - [91merror[0m[90m TS2345: [0mArgument of type 'Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { _id: any; }' is not assignable to parameter of type 'FilterQuery<DocumentType<LastRatings, BeAnObject>>'.
  Type 'Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { _id: any; }' is not assignable to type 'RootQuerySelector<DocumentType<LastRatings, BeAnObject>>'.
    Types of property '$where' are incompatible.
      Type 'Record<string, unknown>' is not assignable to type 'string | Function'.
        Type 'Record<string, unknown>' is not assignable to type 'string'.

[7m28[0m       await MongoLastRatings.updateMany( ...allRatings )
[7m  [0m [91m                                         ~~~~~~~~~~~~~[0m

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\last-ratings\LastRatingsMongoRepository.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-8785855985000639.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-8785855985000639.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-8785855985000639.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-13 23:38:57 info: Server is running on http://localhost:3000
2021-12-13 23:39:06 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:39:06 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:39:06 debug: lastratings.updateMany
 query: {}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:39:06.972Z"},"$set":{"updatedAt":"2021-12-13T20:39:06.972Z"}}
 options: {}
2021-12-13 23:39:07 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:39:07 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:39:07 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:40:10 info: Server is running on http://localhost:3000
2021-12-13 23:40:13 info: Server is running on http://localhost:3000
2021-12-13 23:41:01 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:41:01 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:41:01 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:41:01 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:41:01 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:41:37 error: Error: тип Unable to compile TypeScript:
[96msrc/repository/last-ratings/LastRatingsMongoRepository.ts[0m:[93m28[0m:[93m18[0m - [91merror[0m[90m TS2551: [0mProperty 'spilce' does not exist on type '(Document<any, BeAnObject, any> & LastRatings & IObjectWithTypegooseFunction & { _id: any; })[]'. Did you mean 'splice'?

[7m28[0m       allRatings.spilce(9, allRatings.length)
[7m  [0m [91m                 ~~~~~~[0m

  [96mnode_modules/typescript/lib/lib.es5.d.ts[0m:[93m1297[0m:[93m5[0m
    [7m1297[0m     splice(start: number, deleteCount?: number): T[];
    [7m    [0m [96m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    'splice' is declared here.

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\last-ratings\LastRatingsMongoRepository.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-8785855985000639.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-8785855985000639.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-8785855985000639.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-13 23:41:54 info: Server is running on http://localhost:3000
2021-12-13 23:41:57 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:41:57 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:41:57 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:41:57 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:41:57 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:42:09 info: Server is running on http://localhost:3000
2021-12-13 23:42:16 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:42:16 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:42:16 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:42:16 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:42:16 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:43:51 info: Server is running on http://localhost:3000
2021-12-13 23:43:54 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:43:54 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:43:54 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:43:54 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:43:54 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:44:28 info: Server is running on http://localhost:3000
2021-12-13 23:45:12 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:45:12 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:45:12 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:45:12 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:45:12 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:46:18 info: Server is running on http://localhost:3000
2021-12-13 23:46:25 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:46:25 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:46:25 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:46:25 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:46:25 debug: users.find
 query: {"_id":{"$in":["61b7095b3586428b2f45fa38","61af26216acca0ff0072b2de","61ae6df04f1be658c7063b65"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:46:46 info: Server is running on http://localhost:3000
2021-12-13 23:46:49 debug: users.findOne
 query: {"_id":"61b7095b3586428b2f45fa38"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:46:49 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:46:49 debug: lastratings.deleteMany
 query: {}
 doc: {}
 options: undefined
2021-12-13 23:46:49 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:47:28 info: Server is running on http://localhost:3000
2021-12-13 23:47:46 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:47:46 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:47:46 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:47:46 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:47:56 debug: users.findOne
 query: {"username":"sergey"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:47:56 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 23:47:56 debug: users.findOne
 query: {}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-13 23:47:56 debug: orderlists.find
 query: {"_id":{"$in":["61b7ae7de962b429583be171"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:47:56 debug: orderlists.insertOne
 query: {"products":[],"_id":"61b7b17ccf33e42710a7f023","createdAt":"2021-12-13T20:47:56.872Z","updatedAt":"2021-12-13T20:47:56.872Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:47:56 debug: users.updateOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"$set":{"orderList":"61b7b17ccf33e42710a7f023","updatedAt":"2021-12-13T20:47:56.965Z"}}
 options: {"session":null}
2021-12-13 23:48:26 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:48:26 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:48:26 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:48:26 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:48:27 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:48:27 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:48:27 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:48:27.237Z"},"$set":{"updatedAt":"2021-12-13T20:48:27.237Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:25.946Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T20:48:27.146Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:51.429Z"}],"totalRating":7.3}}
 options: {}
2021-12-13 23:48:27 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61af26216acca0ff0072b2de","rating":8,"comment":"good","_id":"61b7b19bcf33e42710a7f02d","createdAt":"2021-12-13T20:48:27.342Z","updatedAt":"2021-12-13T20:48:27.342Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:48:34 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:48:34 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:48:34 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:48:34 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:48:34 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:48:34 debug: products.findOne
 query: {"displayName":"carrot"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:48:34 debug: products.updateOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:48:34.552Z"},"$set":{"updatedAt":"2021-12-13T20:48:34.552Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:35.828Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T20:48:34.470Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:46.098Z"}],"totalRating":7.3}}
 options: {}
2021-12-13 23:48:34 debug: lastratings.insertOne
 query: {"product":"61af21a334d1c0181c1c20fd","user":"61af26216acca0ff0072b2de","rating":8,"comment":"good","_id":"61b7b1a2cf33e42710a7f036","createdAt":"2021-12-13T20:48:34.625Z","updatedAt":"2021-12-13T20:48:34.625Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:48:40 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:48:40 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:48:41 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:48:41 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:48:41 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:48:41 debug: products.findOne
 query: {"displayName":"apple"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:48:41 debug: products.updateOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:48:41.351Z"},"$set":{"updatedAt":"2021-12-13T20:48:41.351Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:47.308Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T20:48:41.285Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:40.184Z"}],"totalRating":7.3}}
 options: {}
2021-12-13 23:48:41 debug: lastratings.insertOne
 query: {"product":"61af26336acca0ff0072b2e5","user":"61af26216acca0ff0072b2de","rating":8,"comment":"good","_id":"61b7b1a9cf33e42710a7f03f","createdAt":"2021-12-13T20:48:41.443Z","updatedAt":"2021-12-13T20:48:41.443Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:48:46 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:48:46 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:48:47 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:48:47 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:48:47 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:48:47 debug: products.findOne
 query: {"displayName":"orange"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:48:47 debug: products.updateOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:48:47.428Z"},"$set":{"updatedAt":"2021-12-13T20:48:47.428Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:54.326Z"},{"userId":"61af26216acca0ff0072b2de","rating":8,"comment":"good","createdAt":"2021-12-13T20:48:47.359Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:25.752Z"}],"totalRating":7.3}}
 options: {}
2021-12-13 23:48:47 debug: lastratings.insertOne
 query: {"product":"61af23726acca0ff0072b2d3","user":"61af26216acca0ff0072b2de","rating":8,"comment":"good","_id":"61b7b1afcf33e42710a7f048","createdAt":"2021-12-13T20:48:47.514Z","updatedAt":"2021-12-13T20:48:47.514Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:48:51 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:48:51 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:49:23 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:49:23 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:49:24 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:49:24 debug: products.findOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:49:24 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:49:24 debug: products.findOne
 query: {"displayName":"orange"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:49:24 debug: products.updateOne
 query: {"_id":"61af23726acca0ff0072b2d3"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:49:24.407Z"},"$set":{"updatedAt":"2021-12-13T20:49:24.407Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:54.326Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:49:24.322Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:25.752Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:49:24 debug: lastratings.insertOne
 query: {"product":"61af23726acca0ff0072b2d3","user":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","_id":"61b7b1d4cf33e42710a7f053","createdAt":"2021-12-13T20:49:24.516Z","updatedAt":"2021-12-13T20:49:24.516Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:49:27 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:49:27 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:49:39 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:49:39 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:49:39 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:49:39 debug: products.findOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:49:39 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:49:39 debug: products.findOne
 query: {"displayName":"apple"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:49:39 debug: products.updateOne
 query: {"_id":"61af26336acca0ff0072b2e5"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:49:39.765Z"},"$set":{"updatedAt":"2021-12-13T20:49:39.765Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:47.308Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:49:39.689Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:40.184Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:49:39 debug: lastratings.insertOne
 query: {"product":"61af26336acca0ff0072b2e5","user":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","_id":"61b7b1e3cf33e42710a7f05e","createdAt":"2021-12-13T20:49:39.868Z","updatedAt":"2021-12-13T20:49:39.868Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:49:46 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:49:47 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:49:47 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:49:47 debug: products.findOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:49:47 debug: categories.find
 query: {"_id":{"$in":["618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:49:47 debug: products.findOne
 query: {"displayName":"carrot"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:49:47 debug: products.updateOne
 query: {"_id":"61af21a334d1c0181c1c20fd"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:49:47.455Z"},"$set":{"updatedAt":"2021-12-13T20:49:47.455Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:35.828Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:49:47.378Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:46.098Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:49:47 debug: lastratings.insertOne
 query: {"product":"61af21a334d1c0181c1c20fd","user":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","_id":"61b7b1ebcf33e42710a7f067","createdAt":"2021-12-13T20:49:47.538Z","updatedAt":"2021-12-13T20:49:47.538Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:49:55 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:49:55 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:49:55 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:49:55 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:49:55 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:49:55 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:49:56 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:49:56.073Z"},"$set":{"updatedAt":"2021-12-13T20:49:56.073Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:25.946Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:49:55.994Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:51.429Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:49:56 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","_id":"61b7b1f4cf33e42710a7f070","createdAt":"2021-12-13T20:49:56.156Z","updatedAt":"2021-12-13T20:49:56.156Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:50:13 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:50:13 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:50:13 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:50:14 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:50:14 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:50:14 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:50:14 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:50:14.251Z"},"$set":{"updatedAt":"2021-12-13T20:50:14.251Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:25.946Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:50:14.167Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:51.429Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:50:14 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","_id":"61b7b206cf33e42710a7f079","createdAt":"2021-12-13T20:50:14.333Z","updatedAt":"2021-12-13T20:50:14.333Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:50:15 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:50:15 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:50:15 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:50:15 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:50:15 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:50:15 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:50:15 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:50:15.526Z"},"$set":{"updatedAt":"2021-12-13T20:50:15.526Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:25.946Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:50:15.445Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:51.429Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:50:15 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","_id":"61b7b207cf33e42710a7f082","createdAt":"2021-12-13T20:50:15.614Z","updatedAt":"2021-12-13T20:50:15.614Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:50:29 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:50:29 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:50:29 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:50:29 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:50:30 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:50:30 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:50:30 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:50:30.212Z"},"$set":{"updatedAt":"2021-12-13T20:50:30.212Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:25.946Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","createdAt":"2021-12-13T20:50:30.127Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:51.429Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:50:30 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61af26216acca0ff0072b2de","rating":10,"comment":"nice","_id":"61b7b216cf33e42710a7f08b","createdAt":"2021-12-13T20:50:30.300Z","updatedAt":"2021-12-13T20:50:30.300Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:50:54 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:50:54 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:50:54 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:50:54 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:50:54 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:51:45 info: Server is running on http://localhost:3000
2021-12-13 23:51:50 info: Server is running on http://localhost:3000
2021-12-13 23:52:35 info: Server is running on http://localhost:3000
2021-12-13 23:52:36 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:52:36 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:52:36 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:52:37 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:52:37 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:52:53 info: Server is running on http://localhost:3000
2021-12-13 23:52:54 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:52:54 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:52:55 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:52:55 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:52:55 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:53:37 info: Server is running on http://localhost:3000
2021-12-13 23:53:40 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:53:40 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:53:40 debug: lastratings.deleteMany
 query: {"_id":{"$in":["61b7b19bcf33e42710a7f02d"]}}
 doc: {}
 options: undefined
2021-12-13 23:53:40 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:53:40 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5","61af23726acca0ff0072b2d3"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:53:40 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:54:26 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:54:27 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:54:27 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:54:27 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:54:27 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:54:27 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:54:27 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:54:27.391Z"},"$set":{"updatedAt":"2021-12-13T20:54:27.391Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:25.946Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"good","createdAt":"2021-12-13T20:54:27.329Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:51.429Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:54:27 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61af26216acca0ff0072b2de","rating":10,"comment":"good","_id":"61b7b3032380d6039c88f0b5","createdAt":"2021-12-13T20:54:27.479Z","updatedAt":"2021-12-13T20:54:27.479Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:54:35 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:54:35 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:54:35 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:54:35 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:54:35 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:54:35 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:54:35 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:54:35.469Z"},"$set":{"updatedAt":"2021-12-13T20:54:35.469Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:25.946Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"delicious","createdAt":"2021-12-13T20:54:35.411Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:51.429Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:54:35 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61af26216acca0ff0072b2de","rating":10,"comment":"delicious","_id":"61b7b30b2380d6039c88f0be","createdAt":"2021-12-13T20:54:35.543Z","updatedAt":"2021-12-13T20:54:35.543Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:54:41 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:54:41 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:54:41 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:54:41 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:54:41 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:54:41 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:54:41 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:54:41.828Z"},"$set":{"updatedAt":"2021-12-13T20:54:41.828Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:25.946Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice food","createdAt":"2021-12-13T20:54:41.770Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:51.429Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:54:41 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61af26216acca0ff0072b2de","rating":10,"comment":"nice food","_id":"61b7b3112380d6039c88f0c7","createdAt":"2021-12-13T20:54:41.897Z","updatedAt":"2021-12-13T20:54:41.897Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:55:05 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:55:05 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:55:05 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:55:06 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-13 23:55:06 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-13 23:55:06 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:55:06 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-13T20:55:06.248Z"},"$set":{"updatedAt":"2021-12-13T20:55:06.248Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-13T20:26:25.946Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice food","createdAt":"2021-12-13T20:55:06.187Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:51.429Z"}],"totalRating":8}}
 options: {}
2021-12-13 23:55:06 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61af26216acca0ff0072b2de","rating":10,"comment":"nice food","_id":"61b7b32a2380d6039c88f0d0","createdAt":"2021-12-13T20:55:06.327Z","updatedAt":"2021-12-13T20:55:06.327Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-13 23:55:09 debug: users.findOne
 query: {"_id":"61af26216acca0ff0072b2de"}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:55:10 debug: lastratings.find
 query: {}
 doc: {"projection":{}}
 options: undefined
2021-12-13 23:55:10 debug: lastratings.deleteMany
 query: {"_id":{"$in":["61b7b1d4cf33e42710a7f053","61b7b1afcf33e42710a7f048","61b7b1a9cf33e42710a7f03f","61b7b1a2cf33e42710a7f036"]}}
 doc: {}
 options: undefined
2021-12-13 23:55:10 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"limit":10,"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-13 23:55:10 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:55:10 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-13 23:55:32 info: Server is running on http://localhost:3000
2021-12-14 10:04:51 info: Server is running on http://localhost:3000
2021-12-14 10:12:24 info: Server is running on http://localhost:3000
2021-12-14 10:24:22 error: RepositoryNotFoundError: No repository for "LastRatings" was found. Looks like this entity is not registered in current "default" connection?
    at RepositoryNotFoundError.TypeORMError [as constructor] (E:\info\js_selflearn\itechart\itechart-backend\src\error\TypeORMError.ts:7:9)
    at new RepositoryNotFoundError (E:\info\js_selflearn\itechart\itechart-backend\src\error\RepositoryNotFoundError.ts:10:9)
    at EntityManager.getRepository (E:\info\js_selflearn\itechart\itechart-backend\src\entity-manager\EntityManager.ts:931:19)
    at Connection.getRepository (E:\info\js_selflearn\itechart\itechart-backend\src\connection\Connection.ts:339:29)
    at new LastRatingsTypeOrmRepository (E:\info\js_selflearn\itechart\itechart-backend\src\repository\last-ratings\LastRatingsTypeOrmRepository.ts:11:60)
    at Function.init (E:\info\js_selflearn\itechart\itechart-backend\src\repository\last-ratings\LastRatingsRepository.ts:11:23)
    at Function.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:41:27)
    at Generator.next (<anonymous>)
    at fulfilled (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
2021-12-14 10:24:59 info: Server is running on http://localhost:3000
2021-12-14 10:28:51 info: Server is running on http://localhost:3000
2021-12-14 10:29:41 info: Server is running on http://localhost:3000
2021-12-14 10:30:25 info: Server is running on http://localhost:3000
2021-12-14 10:31:00 info: Server is running on http://localhost:3000
2021-12-14 10:31:08 info: Server is running on http://localhost:3000
2021-12-14 10:33:21 info: Server is running on http://localhost:3000
2021-12-14 10:34:02 info: Server is running on http://localhost:3000
2021-12-14 10:35:29 info: Server is running on http://localhost:3000
2021-12-14 10:36:52 info: Server is running on http://localhost:3000
2021-12-14 10:37:46 info: Server is running on http://localhost:3000
2021-12-14 10:38:32 info: Server is running on http://localhost:3000
2021-12-14 10:39:30 info: Server is running on http://localhost:3000
2021-12-14 10:40:17 info: Server is running on http://localhost:3000
2021-12-14 10:40:36 info: Server is running on http://localhost:3000
2021-12-14 10:40:51 info: Server is running on http://localhost:3000
2021-12-14 10:41:18 info: Server is running on http://localhost:3000
2021-12-14 10:41:39 info: Server is running on http://localhost:3000
2021-12-14 10:41:52 info: Server is running on http://localhost:3000
2021-12-14 10:42:04 info: Server is running on http://localhost:3000
2021-12-14 10:45:17 info: Server is running on http://localhost:3000
2021-12-14 10:45:22 info: Server is running on http://localhost:3000
2021-12-14 11:01:27 error: Error: тип Unable to compile TypeScript:
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'async'.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m  ~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'add'.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m        ~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m13[0m - [91merror[0m[90m TS2304: [0mCannot find name 'product'.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m            ~~~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m22[0m - [91merror[0m[90m TS2693: [0m'string' only refers to a type, but is being used as a value here.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m                     ~~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m30[0m - [91merror[0m[90m TS2304: [0mCannot find name 'user'.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m                             ~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m36[0m - [91merror[0m[90m TS2693: [0m'string' only refers to a type, but is being used as a value here.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m                                   ~~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m44[0m - [91merror[0m[90m TS2304: [0mCannot find name 'rating'.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m                                           ~~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m52[0m - [91merror[0m[90m TS2693: [0m'number' only refers to a type, but is being used as a value here.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m                                                   ~~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m60[0m - [91merror[0m[90m TS2552: [0mCannot find name 'comment'. Did you mean 'Comment'?

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m                                                           ~~~~~~~[0m

  [96mnode_modules/typescript/lib/lib.dom.d.ts[0m:[93m3571[0m:[93m13[0m
    [7m3571[0m declare var Comment: {
    [7m    [0m [96m            ~~~~~~~[0m
    'Comment' is declared here.
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m70[0m - [91merror[0m[90m TS2693: [0m'string' only refers to a type, but is being used as a value here.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m                                                                     ~~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m20[0m:[93m26[0m - [91merror[0m[90m TS2304: [0mCannot find name 'product'.

[7m20[0m     userRating.product = product;
[7m  [0m [91m                         ~~~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m21[0m:[93m23[0m - [91merror[0m[90m TS2304: [0mCannot find name 'user'.

[7m21[0m     userRating.user = user;
[7m  [0m [91m                      ~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m22[0m:[93m25[0m - [91merror[0m[90m TS2304: [0mCannot find name 'rating'.

[7m22[0m     userRating.rating = rating;
[7m  [0m [91m                        ~~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m23[0m:[93m26[0m - [91merror[0m[90m TS2552: [0mCannot find name 'comment'. Did you mean 'Comment'?

[7m23[0m     userRating.comment = comment ?? '';
[7m  [0m [91m                         ~~~~~~~[0m

  [96mnode_modules/typescript/lib/lib.dom.d.ts[0m:[93m3571[0m:[93m13[0m
    [7m3571[0m declare var Comment: {
    [7m    [0m [96m            ~~~~~~~[0m
    'Comment' is declared here.
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m28[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'async'.

[7m28[0m   async update() {}
[7m  [0m [91m  ~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m28[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'update'.

[7m28[0m   async update() {}
[7m  [0m [91m        ~~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m15[0m:[93m8[0m - [91merror[0m[90m TS1003: [0mIdentifier expected.

[7m15[0m       .
[7m  [0m [91m       [0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m TS1434: [0mUnexpected keyword or identifier.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m  ~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m20[0m - [91merror[0m[90m TS1005: [0m',' expected.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m                   ~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m34[0m - [91merror[0m[90m TS1005: [0m',' expected.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m                                 ~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m50[0m - [91merror[0m[90m TS1005: [0m',' expected.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m                                                 ~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m68[0m - [91merror[0m[90m TS1109: [0mExpression expected.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m                                                                   ~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m18[0m:[93m78[0m - [91merror[0m[90m TS1005: [0m';' expected.

[7m18[0m   async add(product: string, user: string, rating: number, comment?: string) {
[7m  [0m [91m                                                                             ~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m28[0m:[93m3[0m - [91merror[0m[90m TS1434: [0mUnexpected keyword or identifier.

[7m28[0m   async update() {}
[7m  [0m [91m  ~~~~~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m28[0m:[93m18[0m - [91merror[0m[90m TS1005: [0m';' expected.

[7m28[0m   async update() {}
[7m  [0m [91m                 ~[0m
[96msrc/repository/last-ratings/LastRatingsTypeOrmRepository.ts[0m:[93m30[0m:[93m1[0m - [91merror[0m[90m TS1005: [0m'}' expected.

[7m30[0m 
[7m  [0m [91m[0m

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\last-ratings\LastRatingsTypeOrmRepository.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2138204185595316.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2138204185595316.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-2138204185595316.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-14 11:02:58 info: Server is running on http://localhost:3000
2021-12-14 11:04:01 info: Server is running on http://localhost:3000
2021-12-14 11:04:28 info: Server is running on http://localhost:3000
2021-12-14 11:09:43 info: Server is running on http://localhost:3000
2021-12-14 11:10:06 info: Server is running on http://localhost:3000
2021-12-14 11:10:46 info: Server is running on http://localhost:3000
2021-12-14 11:11:01 info: Server is running on http://localhost:3000
2021-12-14 11:11:43 info: Server is running on http://localhost:3000
2021-12-14 11:12:05 info: Server is running on http://localhost:3000
2021-12-14 11:14:22 info: Server is running on http://localhost:3000
2021-12-14 11:15:30 info: Server is running on http://localhost:3000
2021-12-14 11:16:33 info: Server is running on http://localhost:3000
2021-12-14 11:17:40 info: Server is running on http://localhost:3000
2021-12-14 11:17:57 info: Server is running on http://localhost:3000
2021-12-14 11:18:49 info: Server is running on http://localhost:3000
2021-12-14 11:20:04 info: Server is running on http://localhost:3000
2021-12-14 11:20:14 info: Server is running on http://localhost:3000
2021-12-14 11:20:32 info: Server is running on http://localhost:3000
2021-12-14 11:20:39 info: Server is running on http://localhost:3000
2021-12-14 11:21:08 info: Server is running on http://localhost:3000
2021-12-14 11:21:15 info: Server is running on http://localhost:3000
2021-12-14 11:21:48 info: Server is running on http://localhost:3000
2021-12-14 11:22:07 info: Server is running on http://localhost:3000
2021-12-14 11:22:35 info: Server is running on http://localhost:3000
2021-12-14 11:24:07 info: Server is running on http://localhost:3000
2021-12-14 11:34:02 info: Server is running on http://localhost:3000
2021-12-14 18:44:23 info: Server is running on http://localhost:3000
2021-12-14 18:58:22 info: Server is running on http://localhost:3000
2021-12-14 18:59:36 info: Server is running on http://localhost:3000
2021-12-14 19:09:49 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-14 19:09:50 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-14 19:09:50 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-14 19:10:21 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-14 19:10:21 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-14 19:10:40 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-14 19:10:40 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-14 19:10:40 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-14 19:10:41 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-14 19:10:41 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-14 19:10:41 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-14 19:10:41 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-14T16:10:41.636Z"},"$set":{"updatedAt":"2021-12-14T16:10:41.636Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":10,"comment":"aaaa","createdAt":"2021-12-14T16:10:41.444Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice food","createdAt":"2021-12-13T20:55:06.187Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:51.429Z"}],"totalRating":8.7}}
 options: {}
2021-12-14 19:10:41 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-14 19:10:42 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd","61af26336acca0ff0072b2e5"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-14 19:10:42 debug: users.find
 query: {"_id":{"$in":["61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-14 19:10:42 debug: lastratings.deleteOne
 query: {"_id":"61b7b1e3cf33e42710a7f05e"}
 doc: {}
 options: undefined
2021-12-14 19:10:42 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61ae6df04f1be658c7063b65","rating":10,"comment":"aaaa","_id":"61b8c2015ab8da9b37481ea0","createdAt":"2021-12-14T16:10:42.257Z","updatedAt":"2021-12-14T16:10:42.257Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-14 19:10:44 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-14 19:10:44 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-14 19:11:17 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-14 19:11:18 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-14 19:11:18 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-14 19:11:18 debug: products.findOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-14 19:11:18 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-14 19:11:18 debug: products.findOne
 query: {"displayName":"lemon"}
 doc: {"projection":{}}
 options: undefined
2021-12-14 19:11:19 debug: products.updateOne
 query: {"_id":"61af212c76ab25307069a905"}
 doc: {"$setOnInsert":{"createdAt":"2021-12-14T16:11:19.014Z"},"$set":{"updatedAt":"2021-12-14T16:11:19.014Z","ratings":[{"userId":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","createdAt":"2021-12-14T16:11:18.723Z"},{"userId":"61af26216acca0ff0072b2de","rating":10,"comment":"nice food","createdAt":"2021-12-13T20:55:06.187Z"},{"userId":"61b7095b3586428b2f45fa38","rating":6,"comment":"so","createdAt":"2021-12-13T20:35:51.429Z"}],"totalRating":8}}
 options: {}
2021-12-14 19:11:19 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-14 19:11:19 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905","61af21a334d1c0181c1c20fd"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-14 19:11:19 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65","61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-14 19:11:19 debug: lastratings.deleteOne
 query: {"_id":"61b7b1ebcf33e42710a7f067"}
 doc: {}
 options: undefined
2021-12-14 19:11:19 debug: lastratings.insertOne
 query: {"product":"61af212c76ab25307069a905","user":"61ae6df04f1be658c7063b65","rating":8,"comment":"good","_id":"61b8c2275ab8da9b37481eaf","createdAt":"2021-12-14T16:11:19.730Z","updatedAt":"2021-12-14T16:11:19.730Z","__v":0}
 doc: {"session":null}
 options: undefined
2021-12-14 19:11:21 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-14 19:11:21 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-14 19:14:29 info: Server is running on http://localhost:3000
2021-12-14 19:16:21 info: Server is running on http://localhost:3000
2021-12-14 19:30:18 info: Server is running on http://localhost:3000
2021-12-14 19:45:03 info: Server is running on http://localhost:3000
2021-12-14 19:45:45 error: Error: тип Unable to compile TypeScript:
[96msrc/web-socket.ts[0m:[93m13[0m:[93m13[0m - [91merror[0m[90m TS2304: [0mCannot find name 'data'.

[7m13[0m     ws.send(data)
[7m  [0m [91m            ~~~~[0m

    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\web-socket.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-6071792095602966.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-6071792095602966.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-6071792095602966.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-14 19:46:41 info: Server is running on http://localhost:3000
2021-12-14 19:52:42 info: Server is running on http://localhost:3000
2021-12-14 19:58:31 info: Server is running on http://localhost:3000
2021-12-14 19:58:49 info: Server is running on http://localhost:3000
2021-12-14 19:59:28 info: Server is running on http://localhost:3000
2021-12-14 19:59:36 error: TypeError: web_socket_1.wsServer.send is not a function
    at E:\info\js_selflearn\itechart\itechart-backend\src\routes\last-ratings.ts:9:12
    at Generator.next (<anonymous>)
    at fulfilled (E:\info\js_selflearn\itechart\itechart-backend\src\routes\last-ratings.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
2021-12-14 20:00:35 info: Server is running on http://localhost:3000
2021-12-14 20:00:41 info: Server is running on http://localhost:3000
2021-12-14 20:00:53 info: Server is running on http://localhost:3000
2021-12-14 20:01:39 info: Server is running on http://localhost:3000
2021-12-14 20:02:35 info: Server is running on http://localhost:3000
2021-12-14 20:04:10 info: Server is running on http://localhost:3000
2021-12-14 20:04:57 info: Server is running on http://localhost:3000
2021-12-14 20:05:09 info: Server is running on http://localhost:3000
2021-12-14 20:06:29 info: Server is running on http://localhost:3000
2021-12-14 20:08:29 info: Server is running on http://localhost:3000
2021-12-14 20:09:02 info: Server is running on http://localhost:3000
2021-12-14 20:09:23 info: Server is running on http://localhost:3000
2021-12-14 20:10:29 info: Server is running on http://localhost:3000
2021-12-14 20:26:27 info: Server is running on http://localhost:3000
2021-12-14 20:31:05 info: Server is running on http://localhost:3000
2021-12-14 20:37:03 info: Server is running on http://localhost:3000
2021-12-14 20:37:47 info: Server is running on http://localhost:3000
2021-12-14 20:42:21 info: Server is running on http://localhost:3000
2021-12-14 20:43:05 info: Server is running on http://localhost:3000
2021-12-14 20:44:06 info: Server is running on http://localhost:3000
2021-12-14 20:47:30 info: Server is running on http://localhost:3000
2021-12-14 20:51:56 error: Error: Could not find source file: 'E:/info/js_selflearn/itechart/itechart-backend/src/routes/last-ratings.ts'.
    at Object.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\routes\last-ratings.ts:1:7)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Module._compile (E:\info\js_selflearn\itechart\itechart-backend\node_modules\source-map-support\source-map-support.js:568:25)
    at Module.m._compile (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-6071792095602966.js:69:33)
    at Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at require.extensions..jsx.require.extensions..js (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-6071792095602966.js:114:20)
    at require.extensions.<computed> (C:\Users\VLAD\AppData\Local\Temp\ts-node-dev-hook-6071792095602966.js:71:20)
    at Object.nodeDevHook [as .ts] (E:\info\js_selflearn\itechart\itechart-backend\node_modules\ts-node-dev\lib\hook.js:63:13)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
2021-12-14 20:52:46 info: Server is running on http://localhost:3000
2021-12-14 20:53:36 info: Server is running on http://localhost:3000
2021-12-14 20:54:28 info: Server is running on http://localhost:3000
2021-12-14 20:55:46 info: Server is running on http://localhost:3000
2021-12-14 20:57:06 info: Server is running on http://localhost:3000
2021-12-14 20:57:28 info: Server is running on http://localhost:3000
2021-12-14 20:59:58 info: Server is running on http://localhost:3000
2021-12-14 21:00:40 info: Server is running on http://localhost:3000
2021-12-14 21:00:47 info: Server is running on http://localhost:3000
2021-12-14 21:01:56 info: Server is running on http://localhost:3000
2021-12-14 21:02:32 info: Server is running on http://localhost:3000
2021-12-14 21:02:45 info: Server is running on http://localhost:3000
2021-12-14 21:03:07 info: Server is running on http://localhost:3000
2021-12-14 21:03:13 info: Server is running on http://localhost:3000
2021-12-14 21:03:51 info: Server is running on http://localhost:3000
2021-12-14 21:07:28 info: Server is running on http://localhost:3000
2021-12-14 21:09:18 info: Server is running on http://localhost:3000
2021-12-14 21:10:12 info: Server is running on http://localhost:3000
2021-12-14 21:12:08 info: Server is running on http://localhost:3000
2021-12-14 21:17:06 info: Server is running on http://localhost:3000
2021-12-16 16:14:49 info: Server is running on http://localhost:3000
2021-12-16 16:20:18 info: Server is running on http://localhost:3000
2021-12-16 16:21:18 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:21:18 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 16:21:19 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:27:05 info: Server is running on http://localhost:3000
2021-12-16 16:28:28 info: Server is running on http://localhost:3000 undefined
2021-12-16 16:29:22 error: MongooseError: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
    at NativeConnection.Object.<anonymous>.Connection.openUri (E:\info\js_selflearn\itechart\itechart-backend\node_modules\mongoose\lib\connection.js:684:11)
    at E:\info\js_selflearn\itechart\itechart-backend\node_modules\mongoose\lib\index.js:330:10
    at E:\info\js_selflearn\itechart\itechart-backend\node_modules\mongoose\lib\helpers\promiseOrCallback.js:32:5
    at new Promise (<anonymous>)
    at promiseOrCallback (E:\info\js_selflearn\itechart\itechart-backend\node_modules\mongoose\lib\helpers\promiseOrCallback.js:31:10)
    at Mongoose.Object.<anonymous>.Mongoose._promiseOrCallback (E:\info\js_selflearn\itechart\itechart-backend\node_modules\mongoose\lib\index.js:1151:10)
    at Mongoose.Object.<anonymous>.Mongoose.connect (E:\info\js_selflearn\itechart\itechart-backend\node_modules\mongoose\lib\index.js:329:20)
    at Function.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:34:24)
    at Generator.next (<anonymous>)
    at E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:8:71
2021-12-16 16:29:58 info: Server is running on http://localhost:3000 mongo
2021-12-16 16:31:20 info: Server is running on http://localhost:3000 mongo
2021-12-16 16:33:01 info: Server is running on http://localhost:3000 mongo
2021-12-16 16:34:38 info: Server is running on http://localhost:3000 mongo
2021-12-16 16:35:28 info: Server is running on http://localhost:3000 mongo
2021-12-16 16:35:32 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:35:32 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 16:35:32 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:36:39 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:36:39 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 16:36:40 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:37:13 info: Server is running on http://localhost:3000 mongo
2021-12-16 16:37:17 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:37:18 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 16:37:18 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:37:56 info: Server is running on http://localhost:3000 mongo
2021-12-16 16:38:27 info: Server is running on http://localhost:3000 mongo
2021-12-16 16:38:32 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:38:32 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 16:38:32 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:39:54 info: Server is running on http://localhost:3000 mongo
2021-12-16 16:39:57 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:39:58 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 16:39:58 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:40:03 debug: users.findOne
 query: {"username":"user"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:40:24 info: Server is running on http://localhost:3000 mongo
2021-12-16 16:40:28 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:40:28 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 16:40:28 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:40:33 debug: users.findOne
 query: {"username":"user"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:43:18 info: Server is running on http://localhost:3000
2021-12-16 16:43:39 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-16 16:43:39 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-16 16:43:39 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-16 16:43:39 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-16 16:45:30 info: Server is running on http://localhost:3000
2021-12-16 16:45:34 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:45:34 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 16:45:34 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:45:39 debug: users.findOne
 query: {"username":"user"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:45:44 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-16 16:45:44 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-16 16:46:58 info: Server is running on http://localhost:3000
2021-12-16 16:47:02 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:47:02 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 16:47:02 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:47:07 debug: users.findOne
 query: {"username":"user"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:47:12 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-16 16:47:12 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-16 16:50:59 info: Server is running on http://localhost:3000
2021-12-16 16:51:26 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:51:26 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 16:51:26 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:51:39 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:51:40 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-16 16:51:40 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 16:51:40 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65","61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 16:53:29 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:53:29 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-16 16:53:29 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 16:53:29 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65","61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 16:54:28 info: Server is running on http://localhost:3000
2021-12-16 16:56:36 info: Server is running on http://localhost:3000
2021-12-16 16:56:40 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:56:40 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 16:56:40 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:56:45 debug: users.findOne
 query: {"username":"user"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:56:55 debug: categories.find
 query: {}
 doc: {"projection":{"id":1,"displayName":1,"createdAt":1,"products":1}}
 options: undefined
2021-12-16 16:58:08 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:58:08 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 16:58:09 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:58:14 debug: users.findOne
 query: {"username":"user"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:58:19 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-16 16:58:19 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-16 16:58:24 debug: categories.find
 query: {}
 doc: {"projection":{"id":1,"displayName":1,"createdAt":1,"products":1}}
 options: undefined
2021-12-16 16:58:48 info: Server is running on http://localhost:3000
2021-12-16 16:58:52 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:58:52 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 16:58:52 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:58:57 debug: users.findOne
 query: {"username":"user"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 16:59:02 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-16 16:59:02 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-16 16:59:07 debug: categories.find
 query: {}
 doc: {"projection":{"id":1,"displayName":1,"createdAt":1,"products":1}}
 options: undefined
2021-12-16 16:59:45 info: Server is running on http://localhost:3000
2021-12-16 17:00:07 info: Server is running on http://localhost:3000
2021-12-16 17:00:21 info: Server is running on http://localhost:3000
2021-12-16 17:26:51 info: Server is running on http://localhost:3000
2021-12-16 17:27:42 info: Server is running on http://localhost:3000
2021-12-16 17:30:36 info: Server is running on http://localhost:3000
2021-12-16 17:31:11 info: Server is running on http://localhost:3000
2021-12-16 17:32:08 info: Server is running on http://localhost:3000
2021-12-16 17:32:09 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-16 17:32:09 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:32:09 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65","61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:32:10 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-16 17:32:10 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:32:10 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65","61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:32:11 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-16 17:32:11 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:32:11 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65","61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:32:12 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-16 17:32:12 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:32:12 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65","61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:32:13 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-16 17:32:13 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:32:13 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65","61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:32:14 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-16 17:32:14 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:32:14 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65","61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:32:15 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-16 17:32:15 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:32:15 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65","61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:33:22 info: Server is running on http://localhost:3000
2021-12-16 17:34:00 debug: lastratings.find
 query: {}
 doc: {"sort":{"createdAt":-1},"projection":{"product":1,"rating":1,"comment":1,"user":1}}
 options: undefined
2021-12-16 17:34:00 debug: products.find
 query: {"_id":{"$in":["61af212c76ab25307069a905"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:34:00 debug: users.find
 query: {"_id":{"$in":["61ae6df04f1be658c7063b65","61af26216acca0ff0072b2de"]}}
 doc: {"projection":{"displayName":1,"username":1}}
 options: undefined
2021-12-16 17:36:16 info: Server is running on http://localhost:3000
2021-12-16 17:37:01 info: Server is running on http://localhost:3000
2021-12-16 17:37:06 debug: users.findOne
 query: {"username":"vlad"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 17:37:06 debug: users.findOne
 query: {"_id":"61ae6df04f1be658c7063b65"}
 doc: {"projection":{"id":1,"orderList":1}}
 options: undefined
2021-12-16 17:37:06 debug: orderlists.find
 query: {"_id":{"$in":["61b7b17ccf33e42710a7f023"]}}
 doc: {"projection":{}}
 options: undefined
2021-12-16 17:37:11 debug: users.findOne
 query: {"username":"user"}
 doc: {"projection":{}}
 options: undefined
2021-12-16 17:37:16 debug: products.find
 query: {"displayName":{},"price":{"$gte":0},"totalRating":{"$gte":0}}
 doc: {"skip":0,"limit":0,"projection":{"_id":1,"displayName":1,"totalRating":1,"ratings":1,"price":1,"createdAt":1,"categories":1}}
 options: undefined
2021-12-16 17:37:16 debug: categories.find
 query: {"_id":{"$in":["61af5d0c7a202e3e450d7041","618120e51134a9cfae9b1e73","618815827c857f6f3169e09e"]}}
 doc: {"projection":{"id":1,"displayName":1}}
 options: undefined
2021-12-16 17:37:21 debug: categories.find
 query: {}
 doc: {"projection":{"id":1,"displayName":1,"createdAt":1,"products":1}}
 options: undefined
2021-12-16 17:39:25 info: Server is running on http://localhost:3000
2021-12-16 17:40:24 info: Server is running on http://localhost:3000
2021-12-16 17:40:50 error: User exists
2021-12-16 17:41:51 info: Server is running on http://localhost:3000
2021-12-18 19:28:18 info: Server is running on http://localhost:3000
2021-12-20 11:25:03 info: Server is running on http://localhost:3000
2021-12-21 19:27:01 info: Server is running on http://localhost:3000
2021-12-22 11:58:43 error: TypeError: Cannot read property 'getRepository' of undefined
    at new ProductTypeOrmRepository (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductTypeOrmRepository.ts:14:59)
    at Function.init (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductRepository.ts:20:23)
    at Function.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:48:23)
    at Generator.next (<anonymous>)
    at fulfilled (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:5:58)
2021-12-22 11:59:56 info: Server is running on http://localhost:3000
2021-12-26 12:49:42 info: Server is running on http://localhost:3000
2021-12-26 12:52:05 error: TypeError: Cannot read property 'id' of null
    at OrderListTypeOrmRepository.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\order-list\OrderListTypeOrmRepository.ts:22:88)
    at Generator.next (<anonymous>)
    at fulfilled (E:\info\js_selflearn\itechart\itechart-backend\src\repository\order-list\OrderListTypeOrmRepository.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
2021-12-26 12:55:32 info: Server is running on http://localhost:3000
2021-12-26 12:55:40 error: TypeError: Cannot read property 'id' of null
    at OrderListTypeOrmRepository.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\order-list\OrderListTypeOrmRepository.ts:22:88)
    at Generator.next (<anonymous>)
    at fulfilled (E:\info\js_selflearn\itechart\itechart-backend\src\repository\order-list\OrderListTypeOrmRepository.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
2021-12-26 12:57:07 info: Server is running on http://localhost:3000
2021-12-26 12:58:17 info: Server is running on http://localhost:3000
2021-12-26 12:58:29 error: TypeError: Cannot read property 'id' of null
    at OrderListTypeOrmRepository.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\order-list\OrderListTypeOrmRepository.ts:22:88)
    at Generator.next (<anonymous>)
    at fulfilled (E:\info\js_selflearn\itechart\itechart-backend\src\repository\order-list\OrderListTypeOrmRepository.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
2021-12-26 12:58:51 info: Server is running on http://localhost:3000
2021-12-26 12:59:00 error: TypeError: Cannot read property 'id' of null
    at OrderListTypeOrmRepository.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\repository\order-list\OrderListTypeOrmRepository.ts:22:87)
    at Generator.next (<anonymous>)
    at fulfilled (E:\info\js_selflearn\itechart\itechart-backend\src\repository\order-list\OrderListTypeOrmRepository.ts:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
2021-12-26 13:03:09 info: Server is running on http://localhost:3000
2021-12-30 15:26:56 info: Server is running on http://localhost:3000
2021-12-30 15:28:23 info: Server is running on http://localhost:3000
2021-12-30 15:29:07 info: Server is running on http://localhost:3000
2021-12-31 10:53:05 info: Server is running on http://localhost:3000
2021-12-31 11:06:33 error: TypeError: Cannot read property 'getRepository' of undefined
    at new ProductTypeOrmRepository (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductTypeOrmRepository.ts:14:59)
    at Function.init (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductRepository.ts:20:23)
    at Function.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:48:23)
    at Generator.next (<anonymous>)
    at fulfilled (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:5:58)
2021-12-31 11:32:53 error: TypeError: Cannot read property 'getRepository' of undefined
    at new ProductTypeOrmRepository (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductTypeOrmRepository.ts:14:59)
    at Function.init (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductRepository.ts:20:23)
    at Function.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:48:23)
    at Generator.next (<anonymous>)
    at fulfilled (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:5:58)
2021-12-31 11:46:46 error: TypeError: Cannot read property 'getRepository' of undefined
    at new ProductTypeOrmRepository (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductTypeOrmRepository.ts:14:59)
    at Function.init (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductRepository.ts:20:23)
    at Function.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:48:23)
    at Generator.next (<anonymous>)
    at fulfilled (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:5:58)
2022-01-02 11:42:51 error: TypeError: Cannot read property 'getRepository' of undefined
    at new ProductTypeOrmRepository (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductTypeOrmRepository.ts:14:59)
    at Function.init (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductRepository.ts:20:23)
    at Function.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:48:23)
    at Generator.next (<anonymous>)
    at fulfilled (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:5:58)
2022-01-02 11:44:19 error: TypeError: Cannot read property 'getRepository' of undefined
    at new ProductTypeOrmRepository (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductTypeOrmRepository.ts:14:59)
    at Function.init (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductRepository.ts:20:23)
    at Function.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:48:23)
    at Generator.next (<anonymous>)
    at fulfilled (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:5:58)
2022-01-02 12:13:43 error: TypeError: Cannot read property 'getRepository' of undefined
    at new ProductTypeOrmRepository (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductTypeOrmRepository.ts:14:59)
    at Function.init (E:\info\js_selflearn\itechart\itechart-backend\src\repository\product\ProductRepository.ts:20:23)
    at Function.<anonymous> (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:48:23)
    at Generator.next (<anonymous>)
    at fulfilled (E:\info\js_selflearn\itechart\itechart-backend\src\connection\connection.ts:5:58)
2022-01-02 13:01:55 info: Server is running on http://localhost:3000
